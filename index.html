<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id='container'>
        <button id="1">Rock</button>
        <button id="2">Paper</button>
        <button id="3">Scissors</button>
    </div>
    <div id='scoreboard'></div>
    <div id="context"></div>
    <script>
console.log("computerPlay() to assign a random move to your ai opponent. playerInput() to be prompted for your desired move. oneRound to play a single round.");
const rock = 1;
const paper = 2;
const scissors = 3;
const moves = [rock, paper, scissors]; 
let computerMove;
let playerMove;
let yourPoints = 0;
let cpuPoints = 0;
let cpuScore = 0;
let playerScore = 0;
let win = 0;
const scoreboard = document.getElementById('scoreboard')
const context = document.getElementById('context')
scoreboard.textContent= `YOU:, ${yourPoints}, CPU:, ${cpuPoints}`
function getCpuInput() {
   const computerChoice = Math.floor(Math.random() * moves.length); 
    if (computerChoice == 1) {
        computerMove = rock;
    } else if (computerChoice == 2) { 
        computerMove = paper;
    } else {
        computerMove = scissors;
    }
}

function oneRound(h, c) {
            if (h == '1' && c == 1) {
                cpuScore = 0;
                playerScore = 0;
                } else if (h == '1' && c == 2) {
                cpuScore = 1;
                playerScore = 0;
                } else if (h == '1' && c == 3) {
                playerScore = 1;
                cpuScore = 0;
            }
            if (h == '2' && c == 2) {
                cpuScore = 0;
                playerScore = 0;
                } else if (h == '2' && c == 3) {
                cpuScore = 1;
                playerScore = 0;
                } else if (h == '2' && c == 1) {
                playerScore = 1;
                cpuScore = 0;
            }
            if (h == '3' && c == 3) {
                cpuScore = 0;
                playerScore = 0;
                } else if (h == '3' && c == 1) {
                cpuScore = 1;
                playerScore = 0;
                } else if (h == '3' && c == 2) {
                playerScore = 1;
                cpuScore = 0;cpuScore = 0;
                playerScore = 0;
            }
        }

function scoreKeep(){
    if (playerScore > cpuScore) {
        yourPoints++;
        scoreboard.textContent= `YOU:, ${yourPoints}, CPU:, ${cpuPoints}`;
        context.textContent = 'You scored!';
            } else if (cpuScore > playerScore) {
                cpuPoints++;
                context.textContent = 'Opponent scores.';
                scoreboard.textContent= `YOU:, ${yourPoints}, CPU:, ${cpuPoints}`;
                }else if(playerScore == 1 && cpuScore == 1){
                    console.log('!!ERROR!! (matching score values)')
                        }else context.textContent = ' Tie!';
                         

    if (yourPoints == 3) {
        scoreboard.textContent = `WINNER:, ${yourPoints}, LOSER:, ${cpuPoints}`;
        yourPoints = 0;
        cpuPoints = 0;
        win = 1;
        context.textContent = ' You won the set!'
        } else if (cpuPoints === 3) {
            scoreboard.textcontent = `LOSER:, ${yourPoints}, WINNER:, ${cpuPoints}`
            yourPoints = 0;
            cpuPoints = 0;
            win = 1;
         context.textcontent = ' you lost! fuck.... how..'    
}
} 
//DOM
const buttons = document.querySelectorAll('button');
buttons.forEach((button) => {
button.addEventListener('click',() => (playerMove = button.id, getCpuInput(), oneRound(playerMove, computerMove), scoreKeep()))})
scoreboard.style.color = 'red'
context.setAttribute('style', 'color: blue; padding: 12px;')
//DOM end
    </script>
</body>
</html>